<mat-horizontal-stepper [linear]="true" #stepper>
  <mat-step [stepControl]="firstFormGroup">
    <ng-template matStepLabel>Create Admin</ng-template>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
      <mat-grid-list cols="1">
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="Username" formControlName="username" required>
        </mat-form-field>
      </mat-grid-list>
      <mat-grid-list cols="1">
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="Password" formControlName="password" type="password" required>
        </mat-form-field>
      </mat-grid-list>
      <mat-grid-list cols="1">
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="Confirm Password" type="password" formControlName="confirmPassword" required>
        </mat-form-field>
      </mat-grid-list>
      <button mat-raised-button type="submit" color="primary" i18n>Submit</button>
      <button mat-raised-button type="button" color="warn" (click)="cancel()" i18n>Cancel</button>
    </form>
    <div id="login-status">{{message}}</div>
    <button mat-button matStepperNext>Next</button>
  </mat-step>

  <mat-step [stepControl]="configurationFormGroup">
    <form [formGroup]="configurationFormGroup">
      <ng-template matStepLabel>Set Up Configuration</ng-template>
      <mat-form-field>
        <mat-select placeholder="Select Nation/Community" (change)="onChange($event.value)" formControlName="planet_type" required>
          <mat-option value="nation">Nation</mat-option>
          <mat-option value="community">Community</mat-option>
        </mat-select>
      </mat-form-field>
      <div>
        <div *ngIf="select === 'community'">
          <mat-form-field>
              <input matInput i18n-placeholder placeholder="Local Url" formControlName="local_domain" readonly required>
          </mat-form-field>
          <mat-form-field>
            <mat-select i18n-placeholder placeholder="Nation(s)" formControlName="parent_domain" required>
              <mat-option *ngFor="let nation of nations" [value]="nation.nationurl">{{nation.name}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div *ngIf="select === 'nation'">
          <mat-form-field>
              <input matInput i18n-placeholder placeholder="Center" formControlName="parent_domain" required readonly>
          </mat-form-field>
          <mat-form-field>
              <input matInput i18n-placeholder placeholder="Local Url" formControlName="local_domain" required>
          </mat-form-field>
        </div>
        <mat-form-field>
            <input matInput i18n-placeholder placeholder="Name" formControlName="name" required>
        </mat-form-field>
        <mat-form-field>
            <input matInput i18n-placeholder placeholder="Code" formControlName="code" required>
        </mat-form-field>
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="Language" formControlName="preferred_lang" required>
        </mat-form-field>
      </div>
      <div>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>

  <mat-step [stepControl]="contactFormGroup">
    <form [formGroup]="contactFormGroup" (ngSubmit)="onSubmitConfiguration()">
      <ng-template matStepLabel>Contact Details</ng-template>
      <div>
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="First Name" formControlName="firstName" required>
        </mat-form-field>
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="Middle Name" formControlName="middleName">
        </mat-form-field>
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="Last Name" formControlName="lastName" required>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="Email" formControlName="email" required>
        </mat-form-field>
        <mat-form-field>
          <input matInput i18n-placeholder placeholder="Phone Number" formControlName="phoneNumber" required>
        </mat-form-field>
      </div>
      <div>
        <button mat-raised-button type="submit" color="primary" i18n>Submit</button>
        <button mat-raised-button type="button" color="warn" (click)="cancel()" i18n>Cancel</button>
      </div>
    </form>
  </mat-step>
</mat-horizontal-stepper>
